async function restoreProjectState(e){const t=document.getElementById("article-heading"),o=await apex.server.process("RESTORE_PROJECT_STATE",{x01:e}),n=JSON.parse(o.state);apex.debug.info("projectState: ",n);const a=core.getProject(e,{state:n}),r=a.sheet("Sheet 1"),c=r.object("Heading 1",{y:0,opacity:core.types.number(1,{range:[0,1]})});c.onValuesChange(e=>{t.style.transform=`translateY(${e.y}px)`,t.style.opacity=e.opacity}),a.ready.then(()=>{apex.debug.info("project is ready",a),r.sequence.play({iterationCount:1/0})})}import"https://cdn.jsdelivr.net/npm/@theatre/browser-bundles@0.7.2/dist/core-only.min.js";const{core:core}=Theatre,projectId=apex.item("P1_PROJECT_ID").getValue();apex.debug.info("projectId: ",projectId);const channel=new BroadcastChannel("control-theatre"),controlElement=document.getElementById("CONTROLS"),controls=apex.actions.createContext("controls",controlElement);controls.add([{name:"EXPORT",action:(e,t,o)=>{channel.postMessage({type:"export"})}},{name:"IMPORT",action:(e,t,o)=>{restoreProjectState(projectId)}}]);